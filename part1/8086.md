# Intel 8086 microprocessor family

Created om 1978. ASM-86 (the 8086/8088 assembly language).
EU - execution unit.
BIU - bus interface unit.

### General Registers

There are eight 16-bit general registers. The general registers are subdivided into two sets of four registers each;
the data registers (H & L group for "high" and "low"),
and the pointer and index registers (P & I group).

The data registers are unique in that their upper (high) and lower halves are separately addressable.
The other CPU registers are always accessed as 16-bit units __only__.

```
|     16    |
|-----| ----|
|  8  |  8  |
| --- | ----| 
| ah  | al  | -> ax (accumulator)
| bh  | bl  | -> bx (base)
| ch  | cl  | -> cx (count)
| dh  | dl  | -> dx (data)
|    sp     | -> stack pointer
|    bp     | -> base pointer
|    si     | -> source index
|    di     | -> destination index
```

Some instructions use certain registers implicitly. This is needed for compact encoding

| Register 	 | Operations                                                          	 |
|------------|-----------------------------------------------------------------------|
| AX       	 | Word Multiply, Word Divide, Word I/O                                	 |
| AL       	 | Byte Multiply, Byte Divide, Byte I/O, Translate, Decimal Arithmetic 	 |
| AH       	 | Byte Multiply, Byte Divide                                          	 |
| BX       	 | Translate                                                           	 |
| CX       	 | String Operations, Loops                                            	 |
| CL       	 | Variable Shift and Rotate                                           	 |
| DX       	 | Word Multiply, Word Divide, Indirect I/O                            	 |
| SP       	 | Stack Operations                                                    	 |
| SI       	 | String Operations                                                   	 |
| DI       	 | String Operations                                                   	 |

### Segment Registers

The megabyte of 8086 memory space is divided into logical segments of up to 64k bytes each.
The CPU has direct access to 4 segments at a time;
1. `CS` register points to the current code segment; instructions are fetched from this segment.
2. `SS` register points to the current stack segment; stack operations are performed on locations in this segment.
3. `DS` register points to the current data segment; it generally contains the program variables.
4. `ES` register points to the current extra segment, which also is typically used for data storage.

### Instruction Pointer
Instruction Pointer (IP) is a 16-bit pointer that points to the next instruction.

### Flags
There are 3 1-bit Control Flags & 6 1-bit status flags.
-- Control Flags
1. `TF` - Trap
2. `DF` - Direction
3. `IF` - Interrupt-enable
-- Status Flags
4. `OF` - Overflow
5. `SF` - Sign
6. `ZF` - Zero
7. `AF` - Auxiliary carry
8. `PF` - Parity
9. `CF` - Carry

### Memory
The data is stored with the most-significant byte in the higher memory location (Little Endian).


opcode – first 6 bits of the instruction. Instruction type
D field – 7th bit of the instruction. "Direction" of the operation. 0 means register to register, 1 means register to
memory or memory to register.
W field – 8th bit of the instruction. "Word" or "byte" operation. 0 means byte, 1 means word.

The second byte of the instruction usually identifies the instruction's operands.

MOD – 2 bits. "Mode" field indicates whether one of the operands is in memory or whether both operands are in registers.
REG - 3 bits. "Register" field identifies a register that is one of the instruction operands
R/M - 3 bits. "Register/Memory" field. If the MOD field indicates that the operand is in memory, the R/M field
identifies the memory location. If the MOD field indicates that both operands are in registers, the R/M field identifies
the second register.

